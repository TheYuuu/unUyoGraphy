/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkun_u_yo"] = self["webpackChunkun_u_yo"] || []).push([["example_demo_dotMatrixHistogram_index_tsx"], {

/***/ "./node_modules/d3-array/src/range.js":
/*!********************************************!*\
  !*** ./node_modules/d3-array/src/range.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\n\n//# sourceURL=webpack://un-u-yo/./node_modules/d3-array/src/range.js?");

      /***/
    }),

/***/ "./node_modules/d3-axis/src/array.js":
/*!*******************************************!*\
  !*** ./node_modules/d3-axis/src/array.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"slice\": () => (/* binding */ slice)\n/* harmony export */ });\nvar slice = Array.prototype.slice;\n\n\n//# sourceURL=webpack://un-u-yo/./node_modules/d3-axis/src/array.js?");

      /***/
    }),

/***/ "./node_modules/d3-axis/src/axis.js":
/*!******************************************!*\
  !*** ./node_modules/d3-axis/src/axis.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"axisBottom\": () => (/* binding */ axisBottom),\n/* harmony export */   \"axisLeft\": () => (/* binding */ axisLeft)\n/* harmony export */ });\n/* unused harmony exports axisTop, axisRight */\n/* harmony import */ var _array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./array.js */ \"./node_modules/d3-axis/src/array.js\");\n/* harmony import */ var _identity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./identity.js */ \"./node_modules/d3-axis/src/identity.js\");\n\n\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : _identity_js__WEBPACK_IMPORTED_MODULE_0__.default) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = _array_js__WEBPACK_IMPORTED_MODULE_1__.slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : _array_js__WEBPACK_IMPORTED_MODULE_1__.slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : _array_js__WEBPACK_IMPORTED_MODULE_1__.slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nfunction axisTop(scale) {\n  return axis(top, scale);\n}\n\nfunction axisRight(scale) {\n  return axis(right, scale);\n}\n\nfunction axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nfunction axisLeft(scale) {\n  return axis(left, scale);\n}\n\n\n//# sourceURL=webpack://un-u-yo/./node_modules/d3-axis/src/axis.js?");

      /***/
    }),

/***/ "./node_modules/d3-axis/src/identity.js":
/*!**********************************************!*\
  !*** ./node_modules/d3-axis/src/identity.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(x) {\n  return x;\n}\n\n\n//# sourceURL=webpack://un-u-yo/./node_modules/d3-axis/src/identity.js?");

      /***/
    }),

/***/ "./node_modules/d3-scale/src/band.js":
/*!*******************************************!*\
  !*** ./node_modules/d3-scale/src/band.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ band)\n/* harmony export */ });\n/* unused harmony export point */\n/* harmony import */ var d3_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-array */ \"./node_modules/d3-array/src/range.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init.js */ \"./node_modules/d3-scale/src/init.js\");\n/* harmony import */ var _ordinal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ordinal.js */ \"./node_modules/d3-scale/src/ordinal.js\");\n\n\n\n\nfunction band() {\n  var scale = (0,_ordinal_js__WEBPACK_IMPORTED_MODULE_0__.default)().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = (0,d3_array__WEBPACK_IMPORTED_MODULE_1__.default)(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return _init_js__WEBPACK_IMPORTED_MODULE_2__.initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nfunction point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n\n\n//# sourceURL=webpack://un-u-yo/./node_modules/d3-scale/src/band.js?");

      /***/
    }),

/***/ "./example/demo/dotMatrixHistogram/docs.ts":
/*!*************************************************!*\
  !*** ./example/demo/dotMatrixHistogram/docs.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    chartsDesc: [\n        '直方图用于表示数据变化情况以及规则性，能够通过其比较直观地看出数据特性的分布状态，此图例在直方图的每个间围内，用点阵的形式，通过颜色标识不同数据的一个维度。',\n        '出处链接：https://www.washingtonpost.com/investigations/interactive/2021/domestic-terrorism-data/'\n    ],\n    useDesc: [\n        '当直方图每个数据来源都存在的时候，可以对每个数据进行直方统计并通过颜色标记数据的一个维度。'\n    ],\n    dataDesc: [\n        `\n    export interface DotMatrixHistogramOptionData {\n      data: DotMatrixHistogramData[];\n      seriesX: string[];\n      seriesTypes: string[];\n    }\n\n    export interface DotMatrixHistogramData {\n      seriesX: string;\n      data: DotMatrixHistogramDotData[]\n    }\n\n    export interface DotMatrixHistogramDotData {\n      seriesType: string;\n    }\n  `\n    ],\n    optsData: [\n        {\n            key: '1',\n            params: 'bars',\n            desc: '每个间围一行存在多少个点',\n            type: 'number',\n            default: '3'\n        },\n        {\n            key: '2',\n            params: 'barPadding',\n            desc: '间围的间距',\n            type: 'number',\n            default: '5'\n        },\n        {\n            key: '3',\n            params: 'colors',\n            desc: 'seriesTypes 按顺序对应的颜色',\n            type: 'string[]',\n            default: `['#96BBDA', '#FFC194', '#9ED19A', '#EF9997', '#CAB3DF', '#C6ABA6'] `\n        }\n    ],\n    methodData: [\n        {\n            key: '1',\n            params: 'update',\n            desc: '更新数据',\n            type: `(data: DotMatrixHistogramOptionData) => void`,\n            default: '-'\n        }\n    ]\n});\n\n\n//# sourceURL=webpack://un-u-yo/./example/demo/dotMatrixHistogram/docs.ts?");

      /***/
    }),

/***/ "./example/demo/dotMatrixHistogram/index.tsx":
/*!***************************************************!*\
  !*** ./example/demo/dotMatrixHistogram/index.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DotMatrixHistogramDemo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/button/index.js\");\n/* harmony import */ var _demoModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../demoModel */ \"./example/demo/demoModel.tsx\");\n/* harmony import */ var _docs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./docs */ \"./example/demo/dotMatrixHistogram/docs.ts\");\n/* harmony import */ var _packages_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/packages/index */ \"./packages/dotMatrixHistogram/index.ts\");\n/* harmony import */ var _sample__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sample */ \"./example/demo/dotMatrixHistogram/sample.ts\");\n\n\n// import MarkdownContent from '@lib/markdownContent';\n// import contributing from './contributing.md';\n\n\n\n\nconst containerStyle = {\n    width: '600px',\n    height: '200px',\n    marginBottom: '20px'\n};\nfunction DotMatrixHistogramDemo() {\n    const [dotMatrixHistogram, setDotMatrixHistogram] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        setDotMatrixHistogram(new _packages_index__WEBPACK_IMPORTED_MODULE_4__.default({\n            dom: '#container',\n            data: {\n                data: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().data,\n                seriesX: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().seriesX,\n                seriesTypes: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().seriesTypes\n            },\n            Opts: {}\n        }));\n    }, []);\n    const update = () => {\n        if (dotMatrixHistogram) {\n            dotMatrixHistogram.update({\n                data: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().data,\n                seriesX: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().seriesX,\n                seriesTypes: (0,_sample__WEBPACK_IMPORTED_MODULE_3__.default)().seriesTypes\n            });\n        }\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", null,\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { id: \"container\", style: containerStyle }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_5__.default, { onClick: () => update(), type: \"primary\" }, \"update\")),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_demoModel__WEBPACK_IMPORTED_MODULE_1__.default, { docs: _docs__WEBPACK_IMPORTED_MODULE_2__.default })));\n}\n\n\n//# sourceURL=webpack://un-u-yo/./example/demo/dotMatrixHistogram/index.tsx?");

      /***/
    }),

/***/ "./example/demo/dotMatrixHistogram/sample.ts":
/*!***************************************************!*\
  !*** ./example/demo/dotMatrixHistogram/sample.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"seriesX\": () => (/* binding */ seriesX),\n/* harmony export */   \"seriesTypes\": () => (/* binding */ seriesTypes),\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst seriesX = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',\n    'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\nconst seriesTypes = ['A1', 'B1', 'C1'];\nconst getArr = (num) => {\n    return new Array(Number((Math.random() * num + 5).toFixed(0))).fill(0).map(() => {\n        return {\n            seriesType: seriesTypes[Number((Math.random() * (seriesTypes.length - 1)).toFixed(0))]\n        };\n    });\n};\nconst getData = () => {\n    seriesX.sort(() => { return Math.random() > 0.5 ? 1 : -1; });\n    return seriesX.map((t) => {\n        return {\n            seriesX: t,\n            data: getArr(Number((Math.random() * 80).toFixed(0)))\n        };\n    });\n};\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {\n    return {\n        data: getData(),\n        seriesX,\n        seriesTypes\n    };\n}\n;\n\n\n//# sourceURL=webpack://un-u-yo/./example/demo/dotMatrixHistogram/sample.ts?");

      /***/
    }),

/***/ "./packages/dotMatrixHistogram/index.ts":
/*!**********************************************!*\
  !*** ./packages/dotMatrixHistogram/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

      "use strict";
      eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DotMatrixHistogram)\n/* harmony export */ });\n/* harmony import */ var _chartBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chartBase */ \"./packages/chartBase.ts\");\n/* harmony import */ var d3_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-array */ \"./node_modules/d3-array/src/max.js\");\n/* harmony import */ var d3_scale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-scale */ \"./node_modules/d3-scale/src/band.js\");\n/* harmony import */ var d3_scale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-scale */ \"./node_modules/d3-scale/src/linear.js\");\n/* harmony import */ var d3_axis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-axis */ \"./node_modules/d3-axis/src/axis.js\");\n/* harmony import */ var d3_transition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-transition */ \"./node_modules/d3-transition/src/index.js\");\n\n\n\n\n\nclass DotMatrixHistogram extends _chartBase__WEBPACK_IMPORTED_MODULE_1__.default {\n    constructor(opt) {\n        super(opt);\n        this.Opts = {\n            ...this._opts,\n            bars: 3,\n            barPadding: 5,\n            bottomPadding: 5,\n            leftPadding: 20,\n            colors: [\"#96BBDA\", \"#FFC194\", \"#9ED19A\", \"#EF9997\", \"#CAB3DF\", \"#C6ABA6\"],\n        };\n        this.data = null;\n        this.yAxis_g = null;\n        this.xAxis_g = null;\n        this.dot_g = null;\n        this.xPosAxis = (0,d3_scale__WEBPACK_IMPORTED_MODULE_2__.default)();\n        this.colorMap = {};\n        this.dotWidth = 0;\n        this.maxHieght = 0;\n        this.init();\n        this.update(opt.data);\n    }\n    init() {\n        const { leftPadding, bottomPadding } = this.Opts;\n        if (!this.ctx) {\n            throw new Error(\"No useful ctx\");\n            return;\n        }\n        this.yAxis_g = this.ctx.append(\"g\");\n        this.xAxis_g = this.ctx.append(\"g\");\n        this.dot_g = this.ctx.append(\"g\");\n        this.colorMap = {};\n        this.containerWidth -= leftPadding;\n        this.containerHeight -= bottomPadding;\n    }\n    update(data) {\n        this.handleDate(data);\n        this.draw();\n    }\n    handleDate(data) {\n        const { bars, barPadding, colors } = this.Opts;\n        this.dotWidth =\n            (this.containerWidth - barPadding * data.seriesX.length) /\n                data.seriesX.length /\n                bars;\n        const maxNumber = (0,d3_array__WEBPACK_IMPORTED_MODULE_3__.default)(data.data.map((item) => {\n            return item.data.length;\n        }));\n        if (maxNumber) {\n            this.maxHieght = Math.ceil(maxNumber / bars) * this.dotWidth;\n        }\n        else {\n            throw new Error(\"get dots numbers error\");\n        }\n        (data?.seriesTypes || []).forEach((t, i) => {\n            this.colorMap[t] = colors[i];\n        });\n        this.data = data;\n    }\n    draw() {\n        const { dot_g, xAxis_g, data, maxHieght } = this;\n        const { padding } = this.Opts;\n        const xPosAxis = (0,d3_scale__WEBPACK_IMPORTED_MODULE_2__.default)()\n            .domain(this.data?.seriesX || [])\n            .range([0, this.containerWidth]);\n        this.xPosAxis = xPosAxis;\n        if (!dot_g || !data) {\n            return;\n        }\n        (data.data || []).forEach((item, index) => {\n            const dots = dot_g.selectAll(`.dots-${item.seriesX}`).data(item.data);\n            this.updateDots(dots, item.seriesX);\n        });\n        if (!xAxis_g) {\n            return;\n        }\n        const xAxis = (0,d3_axis__WEBPACK_IMPORTED_MODULE_4__.axisBottom)(xPosAxis).ticks(3).tickSize(padding);\n        this.updateXAxis(xAxis);\n        const yPosAxis = (0,d3_scale__WEBPACK_IMPORTED_MODULE_5__.default)()\n            .domain([0, (0,d3_array__WEBPACK_IMPORTED_MODULE_3__.default)(data.data.map((v) => v.data.length)) || 0])\n            .range([maxHieght, 0]);\n        const yAxis = (0,d3_axis__WEBPACK_IMPORTED_MODULE_4__.axisLeft)(yPosAxis).ticks(3).tickSize(padding);\n        this.updateYAxis(yAxis);\n    }\n    updateDots(dots, seriesX) {\n        const { xPosAxis, dotWidth, containerHeight, colorMap } = this;\n        const { bottomPadding, duration, leftPadding, padding } = this.Opts;\n        const enter = dots.enter();\n        const exit = dots.exit();\n        exit\n            .transition()\n            .duration(duration / 2)\n            .attr(\"cy\", (d, i) => {\n            return containerHeight - Math.floor(i / 3) * dotWidth - 2 * dotWidth;\n        })\n            .attr(\"r\", 0)\n            .remove();\n        dots\n            .attr(\"fill\", (d) => colorMap[d.seriesType])\n            .attr(\"transform\", `translate(${padding + leftPadding}, ${-(padding + bottomPadding)})`)\n            .attr(\"r\", (d) => dotWidth / 2)\n            .transition()\n            .duration(duration)\n            .delay(duration / 4)\n            .attr(\"cx\", (d, i) => {\n            return Number(xPosAxis(seriesX)) + (i % 3) * dotWidth;\n        })\n            .attr(\"cy\", (d, i) => {\n            return containerHeight - Math.floor(i / 3) * dotWidth;\n        });\n        enter\n            .append(\"circle\")\n            .attr(\"class\", `dots-${seriesX}`)\n            .attr(\"fill\", (d) => colorMap[d.seriesType])\n            .attr(\"transform\", `translate(${padding + leftPadding}, ${-(padding + bottomPadding)})`)\n            .attr(\"cx\", (d, i) => {\n            return Number(xPosAxis(seriesX)) + (i % 3) * dotWidth;\n        })\n            .attr(\"cy\", (d, i) => {\n            return containerHeight - Math.floor(i / 3) * dotWidth - 2 * dotWidth;\n        })\n            .attr(\"r\", 0)\n            .transition()\n            .duration(duration)\n            .delay(duration / 2)\n            .attr(\"r\", dotWidth / 2)\n            .attr(\"cy\", (d, i) => {\n            return containerHeight - Math.floor(i / 3) * dotWidth;\n        });\n    }\n    updateYAxis(axis) {\n        const { yAxis_g, containerHeight, maxHieght } = this;\n        const { bottomPadding, duration, leftPadding, padding } = this.Opts;\n        if (!yAxis_g) {\n            return;\n        }\n        yAxis_g\n            .attr(\"transform\", `translate(${padding + leftPadding}, ${containerHeight - maxHieght - bottomPadding - padding})`)\n            .transition()\n            .duration(duration)\n            .call(axis);\n        yAxis_g.selectAll(\"path\").remove();\n        yAxis_g.selectAll(\"line\").remove();\n        yAxis_g.selectAll(\"text\").attr(\"fill\", \"#a09b9b\");\n    }\n    updateXAxis(axis) {\n        const { xAxis_g, containerHeight, maxHieght } = this;\n        const { bottomPadding, duration, leftPadding, padding } = this.Opts;\n        if (!xAxis_g) {\n            return;\n        }\n        xAxis_g\n            .attr(\"transform\", `translate(${leftPadding}, ${containerHeight - bottomPadding - padding})`)\n            .transition()\n            .duration(duration)\n            .call(axis);\n        xAxis_g.selectAll(\"path\").remove();\n        xAxis_g.selectAll(\"line\").remove();\n        xAxis_g.selectAll(\"text\").attr(\"fill\", \"#a09b9b\");\n    }\n}\n\n\n//# sourceURL=webpack://un-u-yo/./packages/dotMatrixHistogram/index.ts?");

      /***/
    })

}]);